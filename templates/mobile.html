<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/mobile.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,500;1,400&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/f74dc3ff01.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <meta http-equiv="Cache-Control" content="max-age=0" />
    <meta http-equiv="Cache-Control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://files.codepedia.info/files/uploads/iScripts/html2canvas.js">
    </script>
    <script type="text/javascript" src="../static/function.js"></script>
</head>

<body>
    <div class="header">
        <div class="container">
            <div class="name">
                <a href="/">
                    <h1>W</h1>
                </a>
            </div>
            <nav>
                <div>
                    <i class="fa fa-bars bars"></i>
                    <i class="fa fa-times close"></i>
                </div>
                <ul>
                    <li><a href="#">Wallpapers <i class="fa fa-sort-desc"></i></a>
                        <ul>
                            <form id="choices" action="/choices" method="POST">
                                <li>
                                    <button class="link" name="option" value="Recent Bops">Recent Bops</button>
                                </li>
                                <li>
                                    <button class="link" name="option" value="Semester Jams">Semester Jams</button>
                                </li>
                                <li>
                                    <button class="link" name="option" value="Run It Back Turbo">Run It Back
                                        Turbo</button>
                                </li>
                            </form>
                        </ul>
                    </li>
                    <li><a href="{{ url_for('about') }}">About</a></li>
                    <li><a href="https://github.com/sahluwalia17/Wallify">Github</a></li>
                </ul>
            </nav>

            <script type="text/javascript">
                var count = 0;

                $("nav div").click(function () {
                    count = count + 1;
                    if (count % 2 != 0) {
                        $("nav div .bars").css("display", "none");
                        $("nav div .close").css("display", "grid");
                    } else {
                        $("nav div .close").css("display", "none");
                        $("nav div .bars").css("display", "grid");
                    }
                    $("ul").slideToggle();
                    $("ul ul").css("display", "none");
                });

                $("ul li").click(function () {
                    $(this).find('ul').slideToggle();
                });
            </script>
        </div>
    </div>

    <div class="base">
        <div class="container">
            <h2>Check out our drag/drop feature! </h2>
        </div>
    </div>

    <!-- The area that will be downloaded -->
    <div id="html-content-holder">
        <div class="wallpaper">
            <div class="images">
                <div id="boxA" class="box" ondragover="event.preventDefault()" ondrop="drop(event)">
                    <div class="mover zoom" id="box1" draggable="true" ondragstart="drag(event)"
                        onmouseover="trackhover(1)" onmouseleave="trackleave(1)">
                    </div>
                </div>
                <div id="boxB" class="box" ondragover="event.preventDefault()" ondrop="drop(event)">
                    <div class="mover zoom" id="box2" draggable="true" ondragstart="drag(event)"
                        onmouseover="trackhover(2)" onmouseleave="trackleave(2)">
                    </div>
                </div>
                <div id="boxC" class="box" ondragover="event.preventDefault()" ondrop="drop(event)">
                    <div class="mover zoom" id="box3" draggable="true" ondragstart="drag(event)"
                        onmouseover="trackhover(3)" onmouseleave="trackleave(3)">
                    </div>
                </div>
                <div id="boxD" class="box" ondragover="event.preventDefault()" ondrop="drop(event)">
                    <div class="mover zoom" id="box4" draggable="true" ondragstart="drag(event)"
                        onmouseover="trackhover(4)" onmouseleave="trackleave(4)">
                    </div>
                </div>
                <div id="boxE" class="box" ondragover="event.preventDefault()" ondrop="drop(event)">
                    <div class="mover zoom" id="box5" draggable="true" ondragstart="drag(event)"
                        onmouseover="trackhover(5)" onmouseleave="trackleave(5)">
                    </div>
                </div>
                <div id="boxF" class="box" ondragover="event.preventDefault()" ondrop="drop(event)">
                    <div class="mover zoom" id="box6" draggable="true" ondragstart="drag(event)"
                        onmouseover="trackhover(6)" onmouseleave="trackleave(6)">
                    </div>
                </div>
                <div id="boxG" class="box" ondragover="event.preventDefault()" ondrop="drop(event)">
                    <div class="mover zoom" id="box7" draggable="true" ondragstart="drag(event)"
                        onmouseover="trackhover(7)" onmouseleave="trackleave(7)">
                    </div>
                </div>
                <div id="boxH" class="box" ondragover="event.preventDefault()" ondrop="drop(event)">
                    <div class="mover zoom" id="box8" draggable="true" ondragstart="drag(event)"
                        onmouseover="trackhover(8)" onmouseleave="trackleave(8)">
                    </div>
                </div>
                <div id="boxI" class="box" ondragover="event.preventDefault()" ondrop="drop(event)">
                    <div class="mover zoom" id="box9" draggable="true" ondragstart="drag(event)"
                        onmouseover="trackhover(9)" onmouseleave="trackleave(9)">
                    </div>
                </div>
                <div id="boxJ" class="box" ondragover="event.preventDefault()" ondrop="drop(event)">
                    <div class="mover zoom" id="box10" draggable="true" ondragstart="drag(event)"
                        onmouseover="trackhover(10)" onmouseleave="trackleave(10)">
                    </div>
                </div>
                <div id="boxK" class="box" ondragover="event.preventDefault()" ondrop="drop(event)">
                    <div class="mover zoom" id="box11" draggable="true" ondragstart="drag(event)"
                        onmouseover="trackhover(11)" onmouseleave="trackleave(11)">
                    </div>
                </div>
                <div id="boxL" class="box" ondragover="event.preventDefault()" ondrop="drop(event)">
                    <div class="mover zoom" id="box12" draggable="true" ondragstart="drag(event)"
                        onmouseover="trackhover(12)" onmouseleave="trackleave(12)">
                    </div>
                </div>
                <div id="boxM" class="box" ondragover="event.preventDefault()" ondrop="drop(event)">
                    <div class="mover zoom" id="box13" draggable="true" ondragstart="drag(event)"
                        onmouseover="trackhover(13)" onmouseleave="trackleave(13)">
                    </div>
                </div>
                <div id="boxN" class="box" ondragover="event.preventDefault()" ondrop="drop(event)">
                    <div class="mover zoom" id="box14" draggable="true" ondragstart="drag(event)"
                        onmouseover="trackhover(14)" onmouseleave="trackleave(14)">
                    </div>
                </div>
                <div id="boxO" class="box" ondragover="event.preventDefault()" ondrop="drop(event)">
                    <div class="mover zoom" id="box15" draggable="true" ondragstart="drag(event)"
                        onmouseover="trackhover(15)" onmouseleave="trackleave(15)">
                    </div>
                </div>
            </div>
        </div>
        <div class="name">
            <h3>W.</h3>
            <h4>{{data}}.</h4>
        </div>
    </div>

    <div class="download">
        <a id="btn-Convert-Html2Image" type="button" href="#">
            DOWNLOAD
        </a>
    </div>

    <footer class="footer icons">
        <div class="container">
            <h5> Wallify </h5>
        </div>
    </footer>

    <script>
        $(document).ready(function () {

            var element = $("#html-content-holder");

            var getCanvas;

            $("#btn-Convert-Html2Image").on('click', function () {
                html2canvas(element, {
                    onrendered: function (canvas) {
                        $("#previewImage").append(canvas);
                        getCanvas = canvas;
                    }
                });
                var imgageData =
                    getCanvas.toDataURL("image/jpg");

                var newData = imgageData.replace(
                    /^data:image\/jpg/, "data:application/octet-stream");

                $("#btn-Convert-Html2Image").attr(
                    "download", "GeeksForGeeks.jpg").attr(
                        "href", newData);
            });
        }); 
    </script>
</body>

</html>